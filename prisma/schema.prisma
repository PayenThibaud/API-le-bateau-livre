
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Books {
  UUID        String   @id @default(uuid()) @db.VarChar(36)
  name        String   @db.VarChar(40)
  description String   @db.Text()

  borrows Borrows[]
}

model Borrows {
borrow_UUID    String    @id(map: "borrows_pk") @unique() @default(uuid()) @db.Char(36)
status         Int
started_at     DateTime  @default(now())
end_at         DateTime

borrower_UUID  String     @db.Char(36)
borrower       Borrowers  @relation(map: "borrowers_pk", fields: [borrow_UUID], references: [UUID], onDelete: Cascade)
employee_UUID  String     @db.Char(36)
employee       Employees  @relation(map: "employees_pk", fields: [employee_UUID], references: [UUID], onDelete: Cascade)

Books          Books[]
}

model Authors {
  UUID      String  @id @default(uuid()) @db.VarChar(36)
  firstName String  @db.VarChar(20)
  lastName  String  @db.VarChar(30)

  humanInformation HumanInformations
}

model Borrowers {
borrower_UUID   String    @id(map: "borrowers_pk") @unique() @default(uuid()) @db.Char(36)
first_name      String    @db.Char(20)
last_name       String    @db.Char(30)

Borrows         Borrows[]
}

model Employees {
employee_UUID  String    @id(map: "employees_pk") @unique() @default(uuid()) @db.Char(36)
mail_address   String    @db.Char(80)
password       String    @db.Char(72)
first_name     String    @db.Char(20)
last_name      String    @db.Char(30)

Borrows        Borrows[]
}

model HumanInformations {
  UUID        String  @id @default(uuid()) @db.VarChar(36)
  first_name  String  @db.Char(20)
  last_name   String  @db.Char(30)

  author Authors
}